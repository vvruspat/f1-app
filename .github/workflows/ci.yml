name: Predeploy checkup
 
on:
  push:
    branches: ["main", "staging"]
  pull_request:
    types: [opened, synchronize]

permissions:
  contents: read
  actions: read
  security-events: write

env:
    SNYK_TOKEN: ${{ secrets.SNYK_TOKEN }}

jobs:
  snyk:
    uses: ./.github/workflows/snyk-security.yml

  lint:
    uses: ./.github/workflows/lint.yml

